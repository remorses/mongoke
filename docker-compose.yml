version: "3.7"

services:
  goke:
    build: .
    command: 
      - --path 
      - /goke.yml
    ports:
      - 8060:8080
    environment: 
      - DB_URL=mongodb://mongo/testdb
    volumes: 
      - ./example_goke.yml:/goke.yml
    
  mongo:
    ports:
      - 27017:27017
    image: mvertes/alpine-mongo
    logging:
      driver: "none"

  firestore:
    image: ridedott/firestore-emulator
    init: true
    ports:
      - 8080:8080
    environment:
      - FIRESTORE_PROJECT_ID=project-test
